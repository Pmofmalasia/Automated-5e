[h:lg.LanguageArray = pm.GetLanguages()]
[h:lg.Input = "junkVar | --------------------- Choose "+arg(0)+" Language(s) --------------------- |  | LABEL | SPAN=TRUE "]
[h:lg.ValidLanguages = ""]
[h,foreach(language,lg.LanguageArray): lg.ValidLanguages = if(json.get(getLibProperty("LanguageOptions","Lib:pm.a5e.Core"),json.get(language,"Rarity")),json.append(lg.ValidLanguages,language),lg.ValidLanguages)]
[h,foreach(language,lg.ValidLanguages): lg.Input = listAppend(lg.Input," lg."+json.get(language,"Name")+"Choice |  | "+json.get(language,"DisplayName")+" | CHECK ","##")]
[h:lg.CorrectNumTest = 0]
[h:abort(input(lg.Input))]
[h:lg.Chosen = ""]
[h,foreach(language,lg.ValidLanguages): lg.Chosen = if(eval("lg."+json.get(language,"Name")+"Choice"),json.set(lg.Chosen,json.get(language,"Name"),1),lg.Chosen)]
[h:macro.return = lg.Chosen]