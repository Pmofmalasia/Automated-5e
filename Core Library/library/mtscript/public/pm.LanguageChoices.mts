[h:lg.LanguageArray = pm.GetLanguages()]
[h:lg.Input = "junkVar | --------------------- Language Options --------------------- |  | LABEL | SPAN=TRUE ## lg.FreeChoice | 0,1,2,3,4 | Languages of Choice Gained | LIST "]
[h,foreach(language,lg.LanguageArray): lg.Input = listAppend(lg.Input," lg."+json.get(language,"Name")+"Choice |  | "+json.get(language,"DisplayName")+" | CHECK ","##")]
[h:abort(input(lg.Input))]
[h:lg.Chosen = ""]
[h,foreach(language,lg.LanguageArray): lg.Chosen = if(eval("lg."+json.get(language,"Name")+"Choice"),json.set(lg.Chosen,json.get(language,"Name"),1),lg.Chosen)]
[h:lg.Final = "{}"]
[h,if(lg.Chosen!=""): lg.Final = json.set(lg.Final,"Languages",lg.Chosen)]
[h,if(lg.FreeChoice>0): lg.Final = json.set(lg.Final,"LanguageOptions",lg.FreeChoice)]
[h:macro.return = lg.Final]